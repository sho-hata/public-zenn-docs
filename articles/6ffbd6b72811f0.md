---
title: 'ゼロから実装するカード決済ネットワーク'
emoji: '🐙'
type: 'tech' # tech: 技術記事 / idea: アイデア
topics: []
published: false
---

免責事項

- この記事で実装するカード決済ネットワークはリファレンス実装です。そのため、実際のカード決済ネットワークとは異なり、セキュリティといった要素を大幅に簡略化しています。実用性はありません。教育目的でのみ使用してください。

## カード決済を知る

### 国際ブランド・アクワイアラ・イシュア・加盟店・ユーザーの関係性

### カード決済の仕組み（オーソリゼーション・クリアリング・セツルメント）

### オーソリゼーションの仕組み

## カード決済ネットワークを実装する - オーソリゼーションを支える iso8583 プロトコル

オーソリゼーションは加盟店でカードを使った時に、カード発行会社（イシュア）に「この金額の決済ができますか？」の承認をとるためのオンライン手続きでした。オンラインというからには、ネットワークでデータをやり取りする必要があります。基本的に、サービス間通信だと HTTP/JSON などが使われることが多いですが、カード決済ネットワークでは iso8583 というプロトコルが使われます。

[]

### 基本的な構造

#### MTI(Message Type Identifier) - メッセージの種類を表す

#### Bitmap - メッセージにどのようなデータ要素があるのかを表す

#### Data Element - メッセージのデータ要素を表す

- PAN
- Processing Code
- Amount
- Transaction Date
- Card Verification Value(CVV)
- Card Expiration Date(?)

## カード決済ネットワークを実装する - イシュアネットワーク

### TCP サーバーの起動

### メッセージの受信・解析

### レスポンスの送信

## カード決済ネットワークを実装する - アクワイアラネットワーク

### TCP クライアントの起動

### メッセージの送信

### レスポンスの受信・解析

## ステップアップ

## 参考文献
